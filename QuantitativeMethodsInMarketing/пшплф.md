# README: Прогнозирование временных рядов с ARIMA в R

## 1. Описание проекта
Этот проект реализует модель ARIMA для прогнозирования временных рядов и включает проверку адекватности модели. Код написан на R и позволяет анализировать временные ряды, подбирать параметры модели и оценивать её качество с помощью статистических тестов.

## 2. Условия для запуска

### Требования:
- Установленный R (версия 4.0 или выше)
- Установленный пакет `forecast` (`install.packages("forecast")`)
- Установленный пакет `tseries` (`install.packages("tseries")`)

### Запуск:
1. Открыть RStudio или консоль R.
2. Запустить код: `source("script.R")`

## 3. Теоретическая основа: модель ARIMA

### 3.1. Временные ряды
Временной ряд — это последовательность наблюдений, упорядоченных по времени: 
$[ X_t, X_{t+1}, \dots, X_n ]$

### 3.2. Авторегрессионные модели (AR)
Модель AR(p) выражает текущее значение как линейную комбинацию предыдущих значений:
$[ X_t = c + \sum_{i=1}^{p} \phi_i X_{t-i} + \varepsilon_t ]$
где:
- \( \phi_i \) — коэффициенты авторегрессии,
- \( \varepsilon_t \) — белый шум.

### 3.3. Скользящее среднее (MA)
Модель MA(q) выражает текущее значение через случайные ошибки:
\[ X_t = \mu + \sum_{j=1}^{q} \theta_j \varepsilon_{t-j} + \varepsilon_t \]
где:
- \( \theta_j \) — коэффициенты скользящего среднего.

### 3.4. Комбинированная модель ARMA(p, q)
Модель ARMA(p, q) объединяет AR и MA:
\[ X_t = c + \sum_{i=1}^{p} \phi_i X_{t-i} + \sum_{j=1}^{q} \theta_j \varepsilon_{t-j} + \varepsilon_t \]

### 3.5. Интегрированная модель ARIMA(p, d, q)
Модель ARIMA(p, d, q) включает дифференцирование временного ряда (параметр d), чтобы сделать его стационарным:
\[ (1 - B)^d X_t = c + \sum_{i=1}^{p} \phi_i X_{t-i} + \sum_{j=1}^{q} \theta_j \varepsilon_{t-j} + \varepsilon_t \]
где \( B \) — оператор сдвига (\( B X_t = X_{t-1} \)).

## 4. Проверка адекватности модели
После подгонки модели ARIMA важно проверить её качество.

### 4.1. Автокорреляция остатков
Для хорошей модели остатки \( \varepsilon_t \) должны быть белым шумом.
Проверяется с помощью теста Льюнга-Бокса:
\[ Q = n(n+2) \sum_{k=1}^{m} \frac{r_k^2}{n-k} \sim \chi^2_{(m)} \]
Если p-value > 0.05, гипотеза о белом шуме не отвергается.

### 4.2. Нормальность остатков
Проверяется тестом Шапиро-Уилка:
\[ W = \frac{(\sum a_i X_{(i)})^2}{\sum (X_i - \bar{X})^2} \]
Если p-value > 0.05, гипотеза нормальности не отвергается.

### 4.3. Критерии качества
- AIC (Критерий Акаике):
\[ AIC = -2 \ln L + 2k \]
- BIC (Байесовский информационный критерий):
\[ BIC = -2 \ln L + k \ln n \]
Где \( L \) — функция правдоподобия, \( k \) — число параметров.

## 5. Заключение
Этот проект демонстрирует процесс прогнозирования временных рядов с ARIMA и методы проверки качества модели. Он полезен для анализа финансовых данных, климатологии и прогнозирования спроса.

