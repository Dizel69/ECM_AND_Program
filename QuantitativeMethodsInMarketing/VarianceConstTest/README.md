# VarianceConstTest (Тест Фишера (F-test) для проверки равенства дисперсий)

## Описание

Тест Фишера (F-test) используется для проверки гипотезы о равенстве дисперсий двух групп данных. В контексте временных рядов этот тест помогает определить, отличаются ли вариативности (разброс значений) в двух частях выборки. Это важно, поскольку неоднородность дисперсий может повлиять на корректность статистического анализа.

---
## Требования
Для работы программы требуется установленный язык **R**.

## Установка и запуск
1. **Убедитесь, что у вас установлен R**. Если нет, скачайте и установите R с официального сайта: https://cran.r-project.org/
2. **Скачайте или создайте CSV-файл** с числовыми данными в следующем формате:

   ```csv
   Value
   -1.86
   1.39
   -2.86
   -0.11
   0.64
   0.14
   -1.11
   0.64
   -0.11
   -0.62
   ```

---

## Постановка гипотез

- **Нулевая гипотеза (H₀):** Дисперсии двух выборок равны.
- **Альтернативная гипотеза (H₁):** Дисперсии двух выборок различны.

Гипотезы проверяются с использованием F-статистики, которая определяется как отношение большей выборочной дисперсии к меньшей:

$F = \frac{\max(s_1^2, s_2^2)}{\min(s_1^2, s_2^2)}$


где $(s_1^2) и (s_2^2)$ — выборочные дисперсии двух подгрупп.

## Разбиение выборки

Для проведения теста исходный временной ряд делится на две равные (или почти равные) части:
- Первая половина значений образует первую подвыборку.
- Вторая половина значений образует вторую подвыборку.

## Вычисление дисперсий

Дисперсия (разброс значений относительно среднего) для каждой подвыборки вычисляется по формуле:

$s^2 = \frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2$

где:
- $( n )$ — количество элементов в подвыборке,
- $( x_i )$ — отдельное наблюдение,
- $( \bar{x} )$ — среднее значение подвыборки.

## Расчет F-статистики

После вычисления выборочных дисперсий определяется F-статистика по указанной выше формуле.

## Определение p-value

p-value вычисляется на основе распределения Фишера (F-распределения) с учетом степеней свободы для обеих подвыборок:


$df_1 = n_1 - 1, \quad df_2 = n_2 - 1$


где $( n_1 ) и ( n_2 )$ — размеры первой и второй подгрупп соответственно.

Значение p-value сравнивается с уровнем значимости (обычно 0.05):
- Если $( p > 0.05 )$, принимаем H₀ (различий между дисперсиями нет).
- Если $( p \leq 0.05 )$, отвергаем H₀ и принимаем H₁ (дисперсии различны).

## Реализация без пакета

Шаги выполнения теста вручную:
1. Разделить выборку на две части.
2. Вычислить среднее значение каждой подвыборки.
3. Найти выборочную дисперсию для каждой подгруппы.
4. Рассчитать F-статистику.
5. Определить p-value через таблицу F-распределения.
6. Сделать вывод о принятии или отклонении гипотезы.

## Реализация с использованием встроенной функции

В статистических пакетах, таких как R, тест Фишера выполняется автоматически с помощью функции `var.test()`. Эта функция возвращает значение F-статистики, p-value и доверительный интервал, облегчая интерпретацию результатов.

## Графический анализ

Для наглядности строится график, показывающий изменения вариативности во временном ряду. Это помогает визуально оценить, насколько различаются дисперсии двух частей выборки.

## Заключение

Тест Фишера важен для проверки равенства дисперсий, что является критическим допущением во многих статистических методах. Корректная интерпретация результатов позволяет сделать обоснованные выводы о структуре данных и их однородности.

# Возможные ошибки и решения

1. **Ошибка: "повторяющиеся 'row.names' не разрешаются"**
   - Проверьте, что файл CSV использует точку (`.`) в качестве десятичного разделителя.
   - Убедитесь, что при загрузке данных указано `row.names = NULL`.

2. **График не строится**
   - Убедитесь, что вектор `x` содержит числовые данные (`as.numeric(x)`).

3. **R не видит файл**
   - Проверьте текущую рабочую директорию `getwd()`.
   - Используйте `setwd("путь_к_файлу")`, если файл находится в другой папке.
