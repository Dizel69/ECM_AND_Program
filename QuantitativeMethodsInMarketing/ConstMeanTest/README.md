# ConstMeanTest (t-тест для проверки постоянного среднего (встроенная функция))

## Описание

Этот проект предназначен для проверки гипотезы о постоянстве среднего в наборе данных с использованием **одновыборочного t-теста**. Реализация включает два подхода:

1. **Ручной расчет** t-статистики, p-value и доверительного интервала без использования библиотечных функций.
2. **Применение встроенной функции `t.test()`** в языке R для проверки корректности результатов.

Также программа визуализирует временной ряд, что помогает оценить его поведение.

---
## Требования
Для работы программы требуется установленный язык **R**.

## Установка и запуск
1. **Убедитесь, что у вас установлен R**. Если нет, скачайте и установите R с официального сайта: https://cran.r-project.org/
2. **Скачайте или создайте CSV-файл** с числовыми данными в следующем формате:

   ```csv
   Value
   -1.86
   1.39
   -2.86
   -0.11
   0.64
   0.14
   -1.11
   0.64
   -0.11
   -0.62
   ```

## Теоретическая основа

Одновыборочный t-тест предназначен для проверки гипотезы о равенстве среднего значения выборки некоторому фиксированному значению \( \mu_0 \).

### Гипотезы

- **Нулевая гипотеза (H₀):** Среднее значение выборки равно \( \mu_0 \), т.е. остатки имеют постоянное среднее.
- **Альтернативная гипотеза (H₁):** Среднее значение отличается от \( \mu_0 \), т.е. остатки не имеют постоянного среднего.

### Формулы расчета

#### 1. Вычисление выборочного среднего
\[
\bar{x} = \frac{1}{n} \sum_{i=1}^{n} x_i
\]
где \( n \) — количество наблюдений, а \( x_i \) — элементы выборки.

#### 2. Выборочное стандартное отклонение
\[
s = \sqrt{\frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2}
\]

#### 3. Вычисление t-статистики
\[
t = \frac{\bar{x} - \mu_0}{s / \sqrt{n}}
\]

#### 4. Определение p-value
p-value рассчитывается на основе распределения Стьюдента (t-распределения) с \( n-1 \) степенями свободы:
\[
 p = 2 \cdot P(T > |t|)
\]
Если p-value **больше 0.05**, принимается нулевая гипотеза H₀, в противном случае принимается H₁.

#### 5. Доверительный интервал для среднего
\[
CI = \bar{x} \pm t_{crit} \cdot \frac{s}{\sqrt{n}}
\]

где \( t_{crit} \) — критическое значение t-распределения для заданного уровня доверия (например, 99%).

---

## Алгоритм работы без использования пакетов

1. **Загрузка данных** из файла.
2. **Построение графика** временного ряда для визуального анализа.
3. **Расчет t-статистики вручную:**
   - Вычисление \( \bar{x} \) и \( s \).
   - Определение t-значения.
   - Вычисление p-value с использованием распределения Стьюдента.
   - Определение доверительного интервала.
4. **Принятие или отклонение H₀** на основе p-value.
5. **Сравнение с результатами встроенной функции `t.test()`**.
6. **Вывод результатов и графиков**.

---

## Заключение
Этот метод позволяет проверять наличие постоянного среднего, что важно для проверки моделей на адекватность.

## Возможные ошибки и решения

1. **Ошибка: "повторяющиеся 'row.names' не разрешаются"**
   - Проверьте, что файл CSV использует точку (`.`) в качестве десятичного разделителя.
   - Убедитесь, что при загрузке данных указано `row.names = NULL`.

2. **График не строится**
   - Убедитесь, что вектор `x` содержит числовые данные (`as.numeric(x)`).

3. **R не видит файл**
   - Проверьте текущую рабочую директорию `getwd()`.
   - Используйте `setwd("путь_к_файлу")`, если файл находится в другой папке.
